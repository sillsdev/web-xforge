@use 'sass:map';
@use '@angular/material' as mat;
@use 'src/app/shared/sf-tab-group/sf-tab-group-theme' as sf-tab-group;
@use 'src/app/navigation/navigation-theme' as sf-navigation;

@mixin theme($theme) {
  $is-dark: mat.get-theme-type($theme) == dark;

  // Global styles
  @include mat.system-level-colors($theme);

  // Custom components
  @include sf-tab-group.theme($theme);
  @include sf-navigation.theme($theme);

  // Custom variables
  --sf-disabled-foreground: #{mat.get-theme-color($theme, neutral, 70)};
  --sf-error-foreground: #{mat.get-theme-color($theme, error, if($is-dark, 80, 40))};
  --sf-language-font-family: language_picker, language_picker_fallback, Arial, Helvetica, sans-serif;

  // Overwrite component styles
  @include mat.card-overrides(
    (
      title-text-size: 24px
    )
  );

  @include mat.dialog-overrides(
    (
      container-max-width: initial,
      container-color: mat.get-theme-color($theme, neutral, if($is-dark, 20, 100))
    )
  );

  @include mat.sidenav-overrides(
    (
      container-width: auto,
      container-background-color: mat.get-theme-color($theme, neutral, if($is-dark, 10, 98))
    )
  );

  @include mat.stepper-overrides(
    (
      container-color: transparent
    )
  );

  @include mat.toolbar-overrides(
    (
      container-background-color: mat.get-theme-color($theme, primary, 20),
      container-text-color: mat.get-theme-color($theme, primary, 100)
    )
  );
  @if not $is-dark {
    @include mat.icon-overrides(
      (
        color: mat.get-theme-color($theme, primary, 40)
      )
    );

    mat-toolbar {
      @include mat.icon-overrides(
        (
          color: mat.get-theme-color($theme, primary, 100)
        )
      );
    }

    .mdc-button {
      &.mat-primary,
      &.mat-secondary {
        @include mat.icon-overrides(
          (
            color: mat.get-theme-color($theme, primary, 100)
          )
        );
      }
    }
  }
}
