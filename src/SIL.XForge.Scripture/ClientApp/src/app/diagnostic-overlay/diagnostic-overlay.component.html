<ng-container *transloco="let t; read: 'diagnostic-overlay'">
  <div class="diagnostic-overlay" [class.collapsed]="!isExpanded">
    <button class="toggle-button" [class.collapsed]="!isExpanded" (click)="onToggle()">
      @if (isExpanded) {
        <mat-icon>chevron_right</mat-icon>
      } @else {
        <mat-icon>chevron_left</mat-icon>
      }
    </button>
    @if (isExpanded) {
      <h1>{{ t("header") }}</h1>
      <h3>{{ t("total_docs", { totalDocsCount: totalDocsCount }) }}</h3>
      <table class="diagnostic-overlay-table">
        <thead>
          <tr>
            <th>{{ t("collection") }}</th>
            <th>{{ t("doc_count") }}</th>
          </tr>
        </thead>
        <tbody>
          @for (docType of showDocCollections | keyvalue; track docType.key) {
            @if (docType) {
              <tr>
                <td>{{ docType.key }}</td>
                <td>{{ docType.value }}</td>
              </tr>
            }
          }
        </tbody>
      </table>
    }
  </div>
</ng-container>
