<mat-card *ngIf="status !== 'generated'">
  <h1 mat-card-title>Generate back translation drafts</h1>

  <mat-divider inset></mat-divider>

  <section>
    <p>
      Scripture Forge can assist with drafting a back translation, based on your existing back translation progress. For
      example, if your translation team has already drafted one or more books and then back translated one or more of
      them, Scripture Forge can use the books you have already back translated to generate a draft a back translation of
      the next book you are working on.
    </p>
    <p>
      Keep in mind that the back translation draft will contain mistakes, and you will need to edit the draft that is
      generated.
    </p>
    <p>
      The back translation draft will be generated in the background. You can continue to work on other tasks while is
      is being generated. You can also cancel the generation process at any time. The process will typically take at
      least 8 hours under ideal conditions, but may take longer if the server is busy.
    </p>
  </section>

  <mat-divider inset></mat-divider>

  <ng-container *ngIf="status === 'init'">
    <h3>Draft generation</h3>
    <p>
      Click "Generate draft" to start the process of generating a back translation draft. This will take at least a few
      hours.
    </p>
  </ng-container>

  <ng-container *ngIf="status === 'queued'">
    <h3>Draft queued</h3>
    <p>The back translation draft has been queued. Please check back later.</p>
  </ng-container>

  <ng-container *ngIf="status === 'generating'">
    <h3>Draft in progress</h3>
    <p>Generating draft; this can take a few hours.</p>

    <div class="working-animation">
      <mat-icon>settings</mat-icon>
      <mat-icon class="material-icons-outlined">settings</mat-icon>
      <mat-icon>settings</mat-icon>
    </div>
  </ng-container>

  <mat-card-actions>
    <button *ngIf="status === 'init'" mat-flat-button color="primary" (click)="generateDraft()">Generate draft</button>
    <button *ngIf="canCancel()" mat-flat-button color="primary" (click)="cancel()">Cancel generation</button>
  </mat-card-actions>

  <mat-card-footer>
    <mat-progress-bar
      *ngIf="isDraftInProgress()"
      [mode]="status === 'queued' ? 'indeterminate' : 'determinate'"
      [value]="progress"
    ></mat-progress-bar>
  </mat-card-footer>
</mat-card>

<ng-container *ngIf="status === 'generated'">
  <app-draft-viewer></app-draft-viewer>
</ng-container>
