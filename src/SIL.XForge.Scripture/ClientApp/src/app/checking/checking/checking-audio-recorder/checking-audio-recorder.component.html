<ng-container *transloco="let t; read: 'checking_audio_recorder'">
  <ng-container *ngIf="!hasAudioAttachment">
    <button *ngIf="!isRecording" mat-button (click)="startRecording()" class="record" [matTooltip]="t('record_audio')">
      <mat-icon>mic</mat-icon>
      <span *ngIf="!compact">{{ t("record") }}</span>
    </button>
    <button *ngIf="isRecording" mat-button (click)="stopRecording()" class="stop" [matTooltip]="t('stop_recording')">
      <div class="stop-recording-content">
        <mat-icon>stop</mat-icon>
        {{ t("recording") }}
      </div>
    </button>
  </ng-container>
  <div *ngIf="hasAudioAttachment" class="has-attachment">
    <app-single-button-audio-player *ngIf="!!audioUrl && compact" [source]="audioUrl" (click)="toggleAudio()">
      <mat-icon>{{ audioPlayer?.playing ? "stop" : "play_arrow" }}</mat-icon>
    </app-single-button-audio-player>
    <button mat-button (click)="resetRecording()" [matTooltip]="t('delete')" class="remove-audio-file">
      <mat-icon>delete</mat-icon>
    </button>
    <span *ngIf="compact">{{ t("has_attachment") }}</span>
    <app-checking-audio-player *ngIf="!!audioUrl && !compact" [source]="audioUrl"></app-checking-audio-player>
  </div>
</ng-container>
